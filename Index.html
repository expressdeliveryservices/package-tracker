<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard - Express Delivery</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {font-family: Arial, sans-serif; margin:0; padding:0; background:#f4f4f9;}
    header {background:#1e90ff; color:#fff; padding:15px; display:flex; align-items:center; justify-content:space-between;}
    header h1 {margin:0; font-size:20px;}
    .menu-btn {font-size:24px; cursor:pointer;}
    
    /* Side Menu */
    .side-menu {
      height:100%; width:0; position:fixed; z-index:1000; top:0; left:0;
      background:#111; overflow-x:hidden; transition:0.5s; padding-top:60px;
    }
    .side-menu a {
      padding:10px 20px; text-decoration:none; font-size:18px; color:#fff; display:block;
      transition:0.3s;
    }
    .side-menu a:hover {background:#575757;}
    .side-menu .close-btn {position:absolute; top:20px; right:25px; font-size:30px; color:#fff; cursor:pointer;}
    
    .container {max-width:900px; margin:20px auto; background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
    .section {display:none;}
    label {display:block; margin-top:10px; font-weight:bold;}
    input, textarea, select {width:100%; padding:8px; margin-top:5px; border:1px solid #ccc; border-radius:4px;}
    button {margin-top:15px; padding:10px; background:#1e90ff; color:#fff; border:none; border-radius:4px; cursor:pointer;}
    button:hover {background:#0c6cd4;}
    .logout-btn {background:#ff4444;}
  </style>
</head>
<body>
  <header>
    <h1>Express Delivery Admin</h1>
    <span class="menu-btn" onclick="openMenu()">â˜°</span>
  </header>
  
  <!-- Side Menu -->
  <div id="sideMenu" class="side-menu">
    <span class="close-btn" onclick="closeMenu()">&times;</span>
    <a href="#" onclick="showSection('generate')">Generate Tracking Code</a>
    <a href="#" onclick="showSection('receiver')">Update Receiver Details</a>
    <a href="#" onclick="showSection('status')">Update Package Status</a>
    <a href="#" onclick="logout()">Logout</a>
  </div>
  
  <!-- Login -->
  <div class="container" id="loginSection">
    <h2>Admin Login</h2>
    <label>Email:</label>
    <input type="email" id="adminEmail" placeholder="Enter admin email">
    <label>Password:</label>
    <input type="password" id="adminPassword" placeholder="Enter password">
    <button onclick="login()">Login</button>
  </div>
  
  <!-- Dashboard -->
  <div class="container" id="dashboardSection" style="display:none;">
    
    <div id="generate" class="section">
      <h3>Generate Tracking Code</h3>
      <button onclick="generateTrackingCode()">Generate Code</button>
      <p id="generatedCode"></p>
    </div>
    
    <div id="receiver" class="section">
      <h3>Receiver Details</h3>
      <label>Tracking Code:</label>
      <input type="text" id="receiverCode" placeholder="Enter tracking code">
      <label>Name:</label>
      <input type="text" id="receiverName">
      <label>Address:</label>
      <textarea id="receiverAddress"></textarea>
      <label>Airport:</label>
      <input type="text" id="receiverAirport">
      <button onclick="updateReceiver()">Save Receiver Details</button>
    </div>
    
    <div id="status" class="section">
      <h3>Package Status</h3>
      <label>Tracking Code:</label>
      <input type="text" id="statusCode" placeholder="Enter tracking code">
      <select id="packageStatus">
        <option value="Registered">Registered</option>
        <option value="In Transit">In Transit</option>
        <option value="On Hold">On Hold</option>
        <option value="Delivered">Delivered</option>
      </select>
      <button onclick="updateStatus()">Update Status</button>
    </div>
    
  </div>
  
  <script>
    const ADMIN_EMAIL = "Expressdeliveryservice0016@gmail.com";
    const ADMIN_PASS = "yourpassword"; // change to strong password
    
    function login(){
      const email = document.getElementById("adminEmail").value.trim();
      const pass = document.getElementById("adminPassword").value.trim();
      if(email === ADMIN_EMAIL && pass === ADMIN_PASS){
        document.getElementById("loginSection").style.display="none";
        document.getElementById("dashboardSection").style.display="block";
      } else {
        alert("Invalid login!");
      }
    }
    
    function logout(){
      document.getElementById("dashboardSection").style.display="none";
      document.getElementById("loginSection").style.display="block";
    }
    
    function openMenu(){ document.getElementById("sideMenu").style.width="250px"; }
    function closeMenu(){ document.getElementById("sideMenu").style.width="0"; }
    
    function showSection(id){
      document.querySelectorAll(".section").forEach(sec => sec.style.display="none");
      document.getElementById(id).style.display="block";
      closeMenu();
    }
    
    function generateTrackingCode(){
      const code = "EXP" + Math.floor(Math.random()*1000000000);
      document.getElementById("generatedCode").innerText = "New Tracking Code: " + code;
      fetch("https://expressdeliveryservices.epizy.com/api/api.php?action=add&code=" + code)
        .then(r => r.text())
        .then(d => console.log(d));
    }
    
    function updateReceiver(){
      const code = document.getElementById("receiverCode").value.trim();
      const name = document.getElementById("receiverName").value;
      const address = document.getElementById("receiverAddress").value;
      const airport = document.getElementById("receiverAirport").value;
      
      fetch("https://expressdeliveryservices.epizy.com/api/api.php?action=update", {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({code, name, address, airport})
      })
      .then(r=>r.json())
      .then(d=>alert(d.success || d.error));
    }
    
    function updateStatus(){
      const code = document.getElementById("statusCode").value.trim();
      const status = document.getElementById("packageStatus").value;
      
      fetch("https://expressdeliveryservices.epizy.com/api/api.php?action=update", {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({code, status})
      })
      .then(r=>r.json())
      .then(d=>alert(d.success || d.error));
    }
  </script>
</body>
</html>
