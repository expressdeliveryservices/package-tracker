<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Express Delivery Service — Tracker</title>
<style>
  :root{--brand:#1e90ff;--accent:#00c853;--muted:#ccc;}
  body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#fff;color:#111;scroll-behavior:smooth;}
  a{color:var(--brand);text-decoration:none;}
  h1,h2{color:var(--brand);margin:0 0 8px 0;}
  .container{max-width:1200px;margin:0 auto;padding:18px;}

  /* Navbar */
  .navbar{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;background:#f8f8f8;border-bottom:1px solid #e6e6e6;position:sticky;top:0;z-index:999;}
  .logo{font-weight:700;color:var(--brand)}
  .nav-links{display:flex;gap:12px;align-items:center}
  .nav-links a{padding:6px 8px;border-radius:4px}
  .hamburger{display:none;cursor:pointer}
  .hamburger div{width:24px;height:3px;background:var(--brand);margin:4px 0;border-radius:2px}

  /* Header video */
  header{position:relative;height:320px;overflow:hidden;border-bottom:1px solid #eee}
  header video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;pointer-events:none;opacity:0.6}
  .header-overlay{position:relative;z-index:2;padding:46px 18px;color:white;text-shadow:0 2px 8px rgba(0,0,0,0.45)}
  .header-overlay h1{font-size:2rem}
  .header-overlay p{max-width:900px}

  /* Sections */
  section{padding:20px 0;border-bottom:1px solid #f0f0f0}
  .section-title{font-size:1.25rem;margin-bottom:10px;color:var(--brand)}

  /* Image wall */
  .image-wall{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
  .image-wall img,.image-wall video{width:100%;height:auto;border-radius:6px;border:1px solid #eee;display:block}
  .image-wall .desc{margin-top:8px;font-size:0.93rem;color:#444;line-height:1.45}

  /* Tracking controls */
  .tracking-controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  input[type="text"], input[type="email"]{padding:8px;border:1px solid #ddd;border-radius:4px;min-width:220px}
  button{background:var(--brand);color:#fff;border:none;padding:8px 12px;border-radius:5px;cursor:pointer}
  button.ghost{background:#f1f1f1;color:#222}

  /* Shipment boxes */
  .shipment-tracking,.shipment-content{max-width:900px;margin:12px 0;padding:14px;border:1px solid #ddd;background:#fff;border-radius:6px;box-shadow:0 2px 6px rgba(0,0,0,0.03)}
  .shipment-tracking .header,.shipment-content .header{font-weight:700;margin-bottom:10px}

  /* Timeline */
  .timeline{position:relative;margin:14px 0;padding-left:64px}
  .timeline:before{content:"";position:absolute;left:32px;top:0;bottom:0;width:4px;background:#eee;border-radius:3px}
  .timeline-event{position:relative;margin-bottom:26px;opacity:0;transform:translateX(-18px);animation:slideIn .6s forwards}
  .timeline-event:nth-child(1){animation-delay:.45s}
  .timeline-event:nth-child(2){animation-delay:1.0s}
  .tick{position:absolute;left:8px;top:0;width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:4px solid var(--muted);box-shadow:0 6px 18px rgba(0,0,0,0.06);font-weight:700}
  .timeline-event.completed .tick{background:var(--accent);border-color:rgba(0,0,0,0.06);box-shadow:0 8px 22px rgba(0,160,72,0.15);color:#fff;transform:scale(1.02);animation:tickPop .5s ease}
  .timeline-event.intransit .tick{background:var(--brand);color:#fff;box-shadow:0 8px 26px rgba(30,144,255,0.18);animation:glowPulse 1.2s infinite}
  .event-content{display:block;margin-left:0;line-height:1.25}
  .status-box{display:inline-block;background:#ddd;color:#000;padding:6px 10px;border-radius:8px;margin-top:8px;font-size:0.88rem;font-weight:600}
  .time-date{display:block;color:var(--brand);font-weight:700;margin-top:8px;font-size:0.95rem}

  @keyframes tickPop{0%{transform:scale(.6)}60%{transform:scale(1.25)}100%{transform:scale(1)}}
  @keyframes glowPulse{0%{transform:scale(1);box-shadow:0 6px 18px rgba(30,144,255,0.12)}50%{transform:scale(1.08);box-shadow:0 10px 32px rgba(30,144,255,0.22)}100%{transform:scale(1);box-shadow:0 6px 18px rgba(30,144,255,0.12)}}
  @keyframes slideIn{to{opacity:1;transform:translateX(0)}}

  /* Map */
  .map-container{width:100%;height:340px;border-radius:6px;overflow:hidden;border:1px solid #eee;position:relative;margin-top:12px}
  .map-overlay{position:absolute;z-index:5;left:50%;transform:translateX(-50%);top:12px;background:rgba(255,255,255,0.95);padding:8px 12px;border-radius:6px;font-weight:700;color:#111;border:1px solid #eee}

  /* Animated truck (simple SVG + CSS) */
  .truck-wrap{width:120px;height:60px;overflow:visible;margin:8px 0}
  .truck{position:relative;width:120px;height:60px}
  .truck svg{width:120px;height:60px}
  .truck .move{animation:truckMove 3s linear infinite}
  @keyframes truckMove{0%{transform:translateX(-6px)}50%{transform:translateX(6px)}100%{transform:translateX(-6px)}}

  /* Reviews */
  #reviewsBoard{margin-top:12px;padding:10px;border:1px solid #1e90ff;border-radius:6px;background:#fff;min-height:48px;display:flex;align-items:center;justify-content:center;position:relative}
  .review{opacity:0;position:absolute;transition:opacity 1s ease-in-out;width:100%;text-align:center}
  .review.show{opacity:1;position:relative}

  /* Footer */
  footer{background:#f8f8f8;padding:20px;margin-top:20px;text-align:center;color:var(--brand);border-top:1px solid #eee}
  footer a{color:inherit}

  /* Admin */
  #adminPanel{display:none;padding:14px;border-radius:8px;border:1px solid #eee;background:#fafafa;margin-top:12px}
  #adminPanel input, #adminPanel select{padding:8px;border-radius:4px;border:1px solid #ddd;width:100%;box-sizing:border-box;margin-bottom:8px}

  /* Responsive */
  @media(max-width:760px){
    .header-overlay{padding:22px}
    .timeline{padding-left:76px}
    .truck-wrap{width:100px;height:48px}
    .truck svg{width:100px;height:48px}
    .nav-links{display:none}
    .hamburger{display:block}
    .nav-links.mobile-active{display:flex;flex-direction:column;position:absolute;right:10px;top:56px;background:#fff;padding:8px;border-radius:6px;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
  }
</style>
</head>
<body>

<div class="navbar">
  <div class="logo">Express Delivery</div>
  <div class="nav-links" id="navLinks">
    <a href="#home">Home</a>
    <a href="#track">Track</a>
    <a href="#contact">Contact</a>
  </div>
  <div class="hamburger" onclick="toggleMobileMenu()" title="Menu">
    <div></div><div></div><div></div>
  </div>
</div>

<!-- Header -->
<header>
  <video autoplay loop muted playsinline>
    <source src="https://raw.githubusercontent.com/expressdeliveryservices/package-tracker/refs/heads/main/From%20KlickPin%20CF%20Pin%20van%20Nayara%20Duartt%20op%20Slow%20in%202025.mov" type="video/mp4">
  </video>
  <div class="header-overlay container">
    <h1>EXPRESS DELIVERY SERVICES LOGISTIC FIRM</h1>
    <p>Track shipments, generate personal tracking codes, update receiver airports, and download invoices — all on this page.</p>
  </div>
</header>

<div class="container">

  <!-- Delivery Wall -->
  <section id="home">
    <h2 class="section-title">Delivery Wall</h2>
    <div class="image-wall">
      <div>
        <img src="https://raw.githubusercontent.com/expressdeliveryservices/package-tracker/refs/heads/main/IMG_1676.jpeg" alt="Delivery 1">
        <p class="desc">Our team ensures every package reaches its destination safely and on time. We handle logistics with care, using advanced tracking systems to monitor your shipment throughout the journey, guaranteeing peace of mind for our customers with reliable and transparent delivery service every step of the way.</p>
      </div>

      <div>
        <img src="https://raw.githubusercontent.com/expressdeliveryservices/package-tracker/refs/heads/main/IMG_1677.webp" alt="Delivery 2">
        <p class="desc">We provide fast and secure delivery services across multiple regions. Each shipment is carefully packaged and monitored to ensure it arrives in perfect condition. Our logistics solutions are designed to meet the unique needs of our clients, offering efficiency, reliability, and real-time updates for a seamless shipping experience.</p>
      </div>

      <div>
        <img src="https://raw.githubusercontent.com/expressdeliveryservices/package-tracker/refs/heads/main/IMG_1678.jpeg" alt="Delivery 3">
        <p class="desc">Real-time tracking technology enables you to monitor your packages from departure to delivery. Our team ensures transparency and accountability at every stage. Each delivery is handled with precision and professionalism, keeping you informed and confident in our commitment to providing outstanding logistics service with punctual and secure deliveries.</p>
      </div>

      <div>
        <img src="https://raw.githubusercontent.com/expressdeliveryservices/package-tracker/refs/heads/main/IMG_1680.jpeg" alt="Delivery 4">
        <p class="desc">Efficient logistics solutions tailored to individual client requirements. We prioritize safety and punctuality for every shipment. Our team is dedicated to handling packages with the utmost care, ensuring each delivery is executed smoothly and reliably. Experience dependable shipping services backed by cutting-edge tracking and professional support.</p>
      </div>

      <div>
        <img src="https://raw.githubusercontent.com/expressdeliveryservices/package-tracker/refs/heads/main/IMG_1681.jpeg" alt="Delivery 5">
        <p class="desc">Timely deliveries are our commitment. Across regions and cities, we maintain high standards for package handling. Our logistics team is trained to provide seamless services, focusing on efficiency and accuracy. With our tracking systems, clients are always updated, making shipping predictable, transparent, and stress-free for every customer.</p>
      </div>

      <div>
        <img src="https://raw.githubusercontent.com/expressdeliveryservices/package-tracker/refs/heads/main/IMG_1682.jpeg" alt="Delivery 6">
        <p class="desc">Dedicated professionals manage each shipment carefully to ensure safe delivery. We utilize advanced technologies to track your packages in real-time, allowing you to stay informed. Our goal is to provide a reliable and consistent logistics service, giving customers peace of mind with every delivery handled efficiently and securely.</p>
      </div>

      <div>
        <img src="https://raw.githubusercontent.com/expressdeliveryservices/package-tracker/refs/heads/main/IMG_1683.jpeg" alt="Delivery 7">
        <p class="desc">State-of-the-art tracking technology enables precise monitoring of each package. Our logistics team guarantees secure and timely delivery, providing full transparency throughout the journey. With a commitment to customer satisfaction, we handle each shipment meticulously, ensuring clients enjoy confidence and trust in our dependable and professional delivery services.</p>
      </div>

      <div>
        <video autoplay loop muted playsinline>
          <source src="https://raw.githubusercontent.com/expressdeliveryservices/package-tracker/refs/heads/main/From%20KlickPin%20CF%20White%20Truck%20Parked%20Next%20to%20Bridge.mov" type="video/mp4">
        </video>
        <p class="desc">Observe our logistics process in action, showcasing our efficiency and professionalism. Packages are carefully loaded and transported with advanced tracking and handling procedures. This ensures timely and secure delivery while demonstrating our commitment to providing exceptional service and a seamless experience for all customers.</p>
      </div>
    </div>
  </section>

  <!-- Reviews -->
  <section>
    <h2 class="section-title">Customer Reviews</h2>
    <div id="reviewsBoard">
      <div class="review" id="review0">⭐ Alice Johnson: Excellent service! Fast and reliable.</div>
      <div class="review" id="review1">⭐⭐ Michael Smith: Package arrived ahead of time.</div>
      <div class="review" id="review2">⭐⭐⭐ Samantha Lee: Helpful and responsive support.</div>
      <div class="review" id="review3">⭐⭐⭐⭐ John Doe: Amazing service, highly recommend!</div>
      <div class="review" id="review4">⭐⭐⭐⭐⭐ Emily Davis: Professional and efficient delivery every time.</div>
    </div>
  </section>

  <!-- Business hours -->
  <section>
    <h2 class="section-title">Business Hours</h2>
    <div class="business-hours">
      <span>Friday: <span style="color:#00ff00;font-weight:bold;animation:blink 1s infinite">Open 24 hours</span></span><br>
      <span>Saturday: <span style="color:#00ff00;font-weight:bold;animation:blink 1s infinite">Open 24 hours</span></span><br>
      <span>Sunday: <span style="color:#00ff00;font-weight:bold;animation:blink 1s infinite">Open 24 hours</span></span>
    </div>
  </section>

  <!-- Admin Panel (hidden until unlocked) -->
  <div id="adminPanel" aria-hidden="true">
    <h2 class="section-title">Admin Settings (Private)</h2>

    <div style="display:flex;gap:10px;flex-wrap:wrap;">
      <div style="flex:1;min-width:240px">
        <label class="small">Generate Tracking Code</label>
        <div style="display:flex;gap:8px;">
          <input id="generatedCode" readonly placeholder="Generated code will appear here">
          <button onclick="generateTrackingCode()">Generate</button>
          <button class="ghost" onclick="copyGeneratedCode()">Copy</button>
        </div>
        <div style="margin-top:8px;">
          <input id="saveLabel" placeholder="Label (optional)">
          <button style="margin-top:6px" onclick="saveCurrentRecord()">Save Current Record</button>
        </div>
      </div>

      <div style="flex:1;min-width:260px">
        <label class="small">Receiver Airport / Location</label>
        <input id="airportNameInput" placeholder="Vnukovo International Airport, Russia">
        <label class="small">Receiver Address (for map)</label>
        <input id="receiverAddressInput" placeholder="195299 St. Petersburg, Prosveshcheniya Avenue 104, Apt. 281">
        <div style="display:flex;gap:8px;margin-top:6px;">
          <button onclick="applyAirportUpdate()">Apply</button>
          <button class="ghost" onclick="showSavedList()">Saved</button>
        </div>
      </div>
    </div>

    <div style="margin-top:12px;">
      <label class="small">Load saved tracking code</label>
      <div style="display:flex;gap:8px;">
        <input id="loadCode" placeholder="Enter saved code">
        <button onclick="loadTracking()">Load</button>
        <button class="ghost" onclick="deleteSaved()">Delete</button>
      </div>
    </div>
  </div>

  <!-- Tracking / map -->
  <section id="track">
    <h2 class="section-title">Track Your Package</h2>

    <div class="tracking-controls" style="margin-bottom:12px;">
      <input id="trackingNumber" type="text" placeholder="Enter Tracking ID (or use generated code)">
      <button onclick="trackPackage()">Track Now</button>
    </div>

    <div id="shipmentTracking" class="shipment-tracking" style="display:none"></div>
    <div id="shipmentContent" class="shipment-content" style="display:none"></div>

    <div class="map-container">
      <div class="map-overlay">CURRENT LOCATION ON MAP</div>
      <iframe id="mapFrame" width="100%" height="100%" style="border:0" src="https://www.google.com/maps?q=195299%20St.%20Petersburg,%20Prosveshcheniya%20Avenue%20104,%20Apt.%20281&output=embed"></iframe>
    </div>

    <!-- Small animated truck to show cartons-in-vehicle -->
    <div style="margin-top:12px;display:flex;align-items:center;gap:12px;">
      <div class="truck-wrap">
        <div class="truck">
          <!-- simple truck SVG with move animation to suggest motion -->
          <svg viewBox="0 0 120 60" xmlns="http://www.w3.org/2000/svg" class="move" style="overflow:visible">
            <g transform="translate(0,0)">
              <rect x="6" y="18" width="68" height="26" rx="3" fill="#1e90ff"/>
              <rect x="74" y="26" width="34" height="20" rx="3" fill="#0a74d1"/>
              <!-- cartons -->
              <rect x="14" y="22" width="12" height="10" fill="#f4a261"/>
              <rect x="30" y="22" width="12" height="10" fill="#e76f51"/>
              <rect x="46" y="22" width="12" height="10" fill="#f4a261"/>
              <!-- wheels -->
              <circle cx="28" cy="48" r="6" fill="#222"/>
              <circle cx="88" cy="48" r="6" fill="#222"/>
            </g>
          </svg>
        </div>
      </div>
      <div style="font-size:0.95rem;color:#444">In-vehicle view: cartons loaded and on the move — live animation to show package transit.</div>
    </div>

  </section>

  <!-- Contact -->
  <section id="contact">
    <h2 class="section-title">Contact Us</h2>
    <p>Phone: +1 (941) 207-8626</p>
    <p>Email: <a href="mailto:Expressdeliveryservice0016@gmail.com">Expressdeliveryservice0016@gmail.com</a></p>
    <div style="margin-top:12px;">
      <button onclick="openSupport()">Support</button>
    </div>
  </section>

</div> <!-- container -->

<!-- Support popup -->
<div id="supportPopup" style="display:none;">
  <div style="padding:12px;">
    <h3>Support</h3>
    <p>Send us a message and we'll respond shortly.</p>
    <input id="sp_name" placeholder="Your name" /><br/><br/>
    <input id="sp_email" placeholder="Your email" /><br/><br/>
    <textarea id="sp_message" placeholder="Message" rows="4" style="width:100%"></textarea><br/><br/>
    <button onclick="sendSupport()">Send</button>
    <button class="ghost" onclick="closeSupport()">Close</button>
  </div>
</div>

<!-- Footer -->
<footer>
  <div style="max-width:1100px;margin:0 auto;">
    <p>©2025 Express Delivery Service. All Rights Reserved.</p>
    <p>Fast Logistics Company | Reliable Shipping Solutions Worldwide</p>
    <div style="margin-top:8px;"><a href="#home">Home</a> | <a href="#track">Track Packages</a> | <a href="#contact">Contact</a></div>
  </div>
</footer>

<script>
/* ========================
   Configuration (change before sharing)
   ======================== */
const ADMIN_PASSWORD = 'admin123'; // <<-- change this to your secret password
const INVOICE_IMAGE_URL = 'https://raw.githubusercontent.com/expressdeliveryservices/package-tracker/refs/heads/main/IMG_1790.jpeg';
const STORAGE_KEY = 'eds_saved_tracks_v1';

/* ====== Mobile menu toggle ====== */
function toggleMobileMenu(){
  const nav = document.getElementById('navLinks');
  nav.classList.toggle('mobile-active');
}

/* ====== Support popup ====== */
function openSupport(){ document.getElementById('supportPopup').style.display='block'; }
function closeSupport(){ document.getElementById('supportPopup').style.display='none'; }
function sendSupport(){
  alert('Support request received. We will contact you at ' + document.getElementById('sp_email').value);
  closeSupport();
}

/* ====== Saved tracks helpers ====== */
function getSavedTracks(){ try{ return JSON.parse(localStorage.getItem(STORAGE_KEY)||'{}') }catch(e){ return {} } }
function setSavedTracks(o){ localStorage.setItem(STORAGE_KEY, JSON.stringify(o)) }

/* ====== Admin functions (generate, save, load) ====== */
function generateTrackingCode(){
  const code = 'ED' + Date.now().toString(36).toUpperCase().slice(-6) + Math.random().toString(36).slice(2,5).toUpperCase();
  document.getElementById('generatedCode').value = code;
  // also fill tracking input so you can immediately test
  document.getElementById('trackingNumber').value = code;
  navigator.clipboard?.writeText(code).catch(()=>{});
  alert('Generated code copied: ' + code);
}
function copyGeneratedCode(){
  const v = document.getElementById('generatedCode').value;
  if(!v){ alert('No code available. Generate first.'); return; }
  navigator.clipboard?.writeText(v).catch(()=>{});
  alert('Copied: ' + v);
}
function saveCurrentRecord(){
  const code = document.getElementById('generatedCode').value || document.getElementById('trackingNumber').value.trim();
  if(!code){ alert('Generate or enter a tracking code first.'); return; }
  const label = document.getElementById('saveLabel') ? document.getElementById('saveLabel').value.trim() : '';
  const airport = document.getElementById('airportNameInput').value.trim() || 'Vnukovo International Airport, Russia';
  const address = document.getElementById('receiverAddressInput').value.trim() || '195299 St. Petersburg, Prosveshcheniya Avenue 104, Apt. 281';
  const tracks = getSavedTracks();
  tracks[code] = { label, airport, address, createdAt: new Date().toISOString() };
  setSavedTracks(tracks);
  alert('Saved: ' + code);
}
function showSavedList(){
  const tracks = getSavedTracks(); const keys = Object.keys(tracks);
  if(!keys.length){ alert('No saved records'); return; }
  let s = 'Saved records:\\n\\n';
  keys.forEach(k => s += k + (tracks[k].label ? ' — ' + tracks[k].label : '') + ' — ' + (tracks[k].airport||'') + '\\n');
  alert(s);
}
function loadTracking(){
  const code = (document.getElementById('loadCode').value || '').trim();
  if(!code){ alert('Enter code to load'); return; }
  const tracks = getSavedTracks();
  if(!tracks[code]){ alert('No saved record for ' + code); return; }
  const r = tracks[code];
  document.getElementById('generatedCode').value = code;
  document.getElementById('trackingNumber').value = code;
  document.getElementById('airportNameInput').value = r.airport || '';
  document.getElementById('receiverAddressInput').value = r.address || '';
  applyAirportUpdate(); alert('Loaded: ' + code + (r.label ? ' (' + r.label + ')' : ''));
}
function deleteSaved(){
  const code = (document.getElementById('loadCode').value || '').trim();
  if(!code){ alert('Enter code to delete'); return; }
  const tracks = getSavedTracks();
  if(!tracks[code]){ alert('No saved record for ' + code); return; }
  if(confirm('Delete saved record ' + code + '?')){ delete tracks[code]; setSavedTracks(tracks); alert('Deleted ' + code); }
}

/* ====== Apply airport & address (updates timeline text & map) ====== */
function applyAirportUpdate(){
  const airport = document.getElementById('airportNameInput').value.trim() || 'Vnukovo International Airport, Russia';
  const address = document.getElementById('receiverAddressInput').value.trim() || '195299 St. Petersburg, Prosveshcheniya Avenue 104, Apt. 281';
  // update timeline description if present
  const tdesc = document.querySelector('#shipmentTracking .timeline .timeline-event .event-content .description');
  if(tdesc){
    // set innerHTML safely (small allowed tags)
    tdesc.innerHTML = '✅ Item has arrived at <strong>' + escapeHtml(airport) + '</strong><div class="status-box">ON HOLD</div>';
  }
  // update iframe map to search the address
  const q = encodeURIComponent(address || airport);
  document.getElementById('mapFrame').src = 'https://www.google.com/maps?q=' + q + '&output=embed';
}

/* ====== Tracking UI (5s then 5s) ====== */
function trackPackage(){
  const code = document.getElementById('trackingNumber').value.trim();
  const trackDiv = document.getElementById('shipmentTracking');
  const contentDiv = document.getElementById('shipmentContent');
  trackDiv.style.display='none'; contentDiv.style.display='none';
  trackDiv.innerHTML = '<div class="header">Tracking...</div>'; trackDiv.style.display='block';

  setTimeout(()=>{
    if(!code){ trackDiv.innerHTML = '<div class="header">Please enter a tracking number.</div>'; return; }

    const airport = document.getElementById('airportNameInput').value.trim() || 'Vnukovo International Airport, Russia';
    const address = document.getElementById('receiverAddressInput').value.trim() || '195299 St. Petersburg, Prosveshcheniya Avenue 104, Apt. 281';

    trackDiv.innerHTML = '<div class="header">Tracking Shipment</div>';

    const timelineHtml = `
      <div class="timeline">
        <div class="timeline-event completed">
          <div class="tick">✔</div>
          <div class="event-content">
            <div class="description">✅ Item has arrived at <strong>${escapeHtml(airport)}</strong>
              <div class="status-box">ON HOLD</div>
            </div>
            <div class="time-date">23 Sep 2025 — 07:30</div>
          </div>
        </div>

        <div class="timeline-event intransit">
          <div class="tick">⮕</div>
          <div class="event-content">
            <div class="description">☑️ Your item is on its way to <strong>Russia — London UK</strong>
              <div class="status-box">IN TRANSIT</div>
            </div>
            <div class="time-date">22 Sep 2025 — 14:00</div>
          </div>
        </div>
      </div>
    `;
    trackDiv.innerHTML += timelineHtml;

    // update map to receiver address
    const q = encodeURIComponent(address || airport);
    document.getElementById('mapFrame').src = 'https://www.google.com/maps?q=' + q + '&output=embed';

    // next: after another 5s show content
    setTimeout(()=>{
      contentDiv.innerHTML = `
        <div class="header">Content of Shipment: Package</div>
        <div style="margin-top:8px"><strong>Origin Area:</strong> London UK<br><strong>Destination Area:</strong> Russia</div>
        <div style="margin-top:12px"><strong>Sender's Details</strong><div style="margin-top:6px">Name: James — Address: London UK</div></div>
        <div style="margin-top:12px"><strong>Receiver's Details</strong><div style="margin-top:6px">Name: Podvezennaya Elena Ivanovna — Address: ${escapeHtml(address)} — Mobile: +79932195775</div></div>
        <div style="margin-top:12px"><button onclick="downloadInvoiceImage()">Print Invoice</button></div>
      `;
      contentDiv.style.display = 'block';

      // re-trigger animations:
      document.querySelectorAll('.timeline-event').forEach((el)=>{ el.style.animation = 'none'; void el.offsetWidth; el.style.animation = ''; });

    },5000);

  },5000);
}

/* ====== Download invoice (image only) ====== */
function downloadInvoiceImage(){
  const a = document.createElement('a'); a.href = INVOICE_IMAGE_URL;
  a.download = 'invoice-image.jpeg';
  document.body.appendChild(a); a.click(); a.remove();
}

/* ====== Admin unlocking via keyboard shortcut (Ctrl+Shift+A) with password prompt ====== */
document.addEventListener('keydown', function(e){
  if(e.ctrlKey && e.shiftKey && (e.key === 'A' || e.key === 'a')){
    const pw = prompt('Enter admin password:');
    if(pw === ADMIN_PASSWORD){
      showAdminPanel();
      alert('Admin unlocked.');
    } else {
      alert('Incorrect password.');
    }
  }
});
function showAdminPanel(){
  const panel = document.getElementById('adminPanel');
  panel.style.display = 'block';
  panel.setAttribute('aria-hidden','false');
  // add an Admin link to the nav (only visible after unlock)
  const nav = document.getElementById('navLinks');
  if(!document.getElementById('navAdminLink')){
    const a = document.createElement('a'); a.href='#admin'; a.id='navAdminLink'; a.textContent='Admin Settings';
    a.style.color = '#c0392b';
    nav.appendChild(a);
  }
}

/* ====== small helpers ====== */
function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[c]) }

/* Init defaults */
(function init(){
  document.getElementById('airportNameInput').value = 'Vnukovo International Airport, Russia';
  document.getElementById('receiverAddressInput').value = '195299 St. Petersburg, Prosveshcheniya Avenue 104, Apt. 281';
  // reviews rotation
  const reviews = document.querySelectorAll('.review'); let ri = 0;
  function showReview(){ reviews.forEach(r=>r.classList.remove('show')); reviews[ri].classList.add('show'); ri=(ri+1)%reviews.length;}
  showReview(); setInterval(showReview,5000);
})();
</script>
</body>
</html>
